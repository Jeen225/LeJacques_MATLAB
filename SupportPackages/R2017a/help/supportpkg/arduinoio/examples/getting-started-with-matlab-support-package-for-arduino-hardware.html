<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Getting Started with MATLAB Support Package for Arduino Hardware</title>
<link rel="stylesheet" href="docstyle.css" type="text/css"><link href="../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="toctype" itemprop="pagetype" content="fe">
<meta name="infotype" itemprop="infotype" content="ex" />

<meta name="description" itemprop="description" content="This example shows how to use MATLAB&reg; Support Package for Arduino&reg; Hardware to perform basic operations on the hardware such as turning an LED on and off, blinking LEDs and playing sound on a speaker." />
<meta content="../../../examples/arduinoio_product/win64/ArduinoGettingStartedExample_03.png" itemprop="thumbnailUrl">
<script type="text/javascript" src="../includes/product/scripts/jquery/jquery-latest.js"></script>
<link href="../includes/product/css/site6.css?201706221414" rel="stylesheet" type="text/css">
<link href="../includes/product/css/site6_lg.css?201706221414" rel="stylesheet" media="screen and (min-width: 1200px)">
<link href="../includes/product/css/site6_md.css?201706221414" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link href="../includes/product/css/site6_sm+xs.css?201706221414" rel="stylesheet" media="screen and (max-width: 991px)">
<link href="../includes/product/css/site6_sm.css?201706221414" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link href="../includes/product/css/site6_xs.css?201706221414" rel="stylesheet" media="screen and (max-width: 767px)">
<link href="../includes/product/css/site6_offcanvas.css?201706221414" rel="stylesheet" type="text/css">

<script src="../includes/shared/scripts/l10n.js"></script>
<script src="../includes/shared/scripts/docscripts.js"></script>
<script src="../includes/shared/scripts/f1help.js"></script>
<script src="../includes/product/scripts/docscripts.js"></script>
<script src="../includes/shared/scripts/mw.imageanimation.js"></script>
<script src="../includes/shared/scripts/jquery.highlight.js"></script>
<script src="../includes/product/scripts/underscore-min.js"></script>
<script src="../includes/product/scripts/examples.js"></script>
<script src="../includes/product/scripts/use_platform_screenshots.js"></script>
<script src="../includes/product/scripts/suggest.js"></script>
<script src="../includes/shared/scripts/overload.js"></script>





<script src="../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script src="../includes/product/scripts/bootstrap.min.js" type="text/javascript"></script>
<script src="../includes/product/scripts/global.js"></script>
<link href="../includes/product/css/doc_center.css" rel="stylesheet" type="text/css">
<link href="../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link href="../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script type="text/javascript" src="../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div id="doc_header_spacer" class="header"></div>
<div class="sticky_header_container includes_subnav">
<div class="section_header level_3">
<div class="container-fluid">
<div class="row" id="mobile_search_row">
<div class="col-xs-12 col-sm-6 col-sm-push-6 col-md-5 col-md-push-7" id="mobile_search">
<div class="search_nested_content_container">
<form id="docsearch_form" name="docsearch_form" method="get" data-release="R2017a" data-language="en" action="../../../templates/searchresults.html">
<div class="input-group tokenized_search_field">
<label class="sr-only">Search Help</label>
<input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch">
<div class="input-group-btn">
<button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button>
</div>
</div>
</form>
</div>
<button class="btn icon-remove btn_search pull-right icon_32 visible-xs" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div>
<div class="col-sm-6 col-sm-pull-6 col-md-7 col-md-pull-5" id="section_header_title">
<div class="section_header_content">
<div class="section_header_title">
<h1><a href="../../../examples.html">Examples</a></h1>
</div>
</div>
</div>
<div class="visible-xs" id="search_actuator">
<button class="btn icon-search btn_search pull-right icon_16" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button>
</div>
</div><!--END.CLASS row-->
</div><!--END.CLASS container-fluid-->
</div><!--END.CLASS section_header level_3-->
<div class="horizontal_nav">
<div class="horizontal_nav_container">
<div class="offcanvas_actuator" data-toggle="offcanvas" data-target="#sidebar" id="nav_toggle">
<button type="button" class="btn"><span class="sr-only">Toggle navigation</span><span class="icon-menu icon_24"></span></button>
<span class="offcanvas_actuator_label"></span><span class="offcanvas_actuator_close"></span>
</div>
<div class="offcanvas_horizontal_nav">
<div class="container-fluid">
<div class="row">
<div class="col-md-12 hidden-xs hidden-sm"></div>
</div>
</div>
</div>
</div>
</div>
</div><!--END.CLASS sticky_header_container-->
<div class="row-offcanvas row-offcanvas-left">
<div class="sidebar-offcanvas" id="sidebar" role="navigation">
<nav class="offcanvas_nav" role="navigation">
<ul xmlns:atict="http://www.arbortext.com/namespace/atict" class="nav_breadcrumb">
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../../examples.html" itemprop="url"><span itemprop="title">Examples Home</span></a></li>
</ul>

<ul xmlns:atict="http://www.arbortext.com/namespace/atict" class="nav_disambiguation">
<li class="product"><a href="../examples.html">MATLAB Support Package for Arduino Hardware</a>
<div class="dropdown">
<span class="icon-arrow-down icon_16" id="dropdownMenu1" data-toggle="dropdown"></span>
<ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="dropdownMenu1">
<li role="presentation"><a role="menuitem" tabindex="-1" href="../index.html?s_cid=doc_flyout">Documentation</a></li>
<li role="presentation"><a role="menuitem" tabindex="-1" href="../troubleshooting-in-matlab-support-package-for-arduino-hardware.html?s_cid=doc_flyout">Troubleshooting</a></li>
<li role="presentation"><a role="menuitem" tabindex="-1" href="../functionlist.html?s_cid=doc_flyout">Functions and Other Reference</a></li>
<li role="presentation"><a role="menuitem" tabindex="-1" href="../release-notes.html?s_cid=doc_flyout">Release Notes</a></li>
</ul>
</div>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../examples.html#d0e29" itemprop="url"><span itemprop="title">Tutorials</span></a></li>
</ul>
<ul xmlns:atict="http://www.arbortext.com/namespace/atict" class="nav_scrollspy nav">
<li class="nav_scrollspy_function"><a href="#responsive_offcanvas">Getting Started with MATLAB Support Package for Arduino Hardware</a></li>
<li class="nav_scrollspy_title">On this page</li>

<li><a href="#zmw57dd0e58" class="intrnllnk">Hardware setup</a></li>
<li><a href="#zmw57dd0e72" class="intrnllnk">Create an arduino object</a></li>
<li><a href="#zmw57dd0e82" class="intrnllnk">Turn LED on and off</a></li>
<li><a href="#zmw57dd0e97" class="intrnllnk">Brighten and dim LED</a></li>
<li><a href="#zmw57dd0e109" class="intrnllnk">Control an LED using a potentiometer</a></li>
<li><a href="#zmw57dd0e125" class="intrnllnk">Control a Piezo speaker using a push button</a></li>
<li><a href="#zmw57dd0e154" class="intrnllnk">Clean up</a></li>


</ul>
</nav>
<script src="../includes/product/scripts/offcanvas.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="content_container" id="content_container">
<div class="container-fluid">
<div class="row">
<div class="col-xs-12">

<section id="doc_center_content" lang="en"><div id="pgtype-example">
<span id="example-ArduinoGettingStartedExample" class="anchor_target"></span><div class="example_icon"></div><h2 class="title r2017a example" itemprop="title content" id="example-ArduinoGettingStartedExample">Getting Started with MATLAB Support Package for Arduino Hardware</h2><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="arduinoio_product-ArduinoGettingStartedExample"/><meta itemprop="exampletitle" content="Getting Started with MATLAB Support Package for Arduino Hardware"/></div><span id="ArduinoGettingStartedExample" class="anchor_target"></span><div itemprop="content">

<p>This example shows how to use MATLAB&reg; Support Package for Arduino&reg; Hardware to perform basic operations on the hardware such as turning an LED on and off, blinking LEDs and playing sound on a speaker.</p>

</div><div class="clearfix"></div><div itemprop="content"><span id="zmw57dd0e57" class="anchor_target"></span><h3 class="title" id="zmw57dd0e58">Hardware setup<span id="ArduinoGettingStartedExample-1" class="anchor_target"></span></h3><ul type="disc"><li><p>Connect an LED to digital pin 11 on the Arduino hardware through a 1KOhm resistor.</p></li></ul><p>
<img src="../../../examples/arduinoio_product/win64/ArduinoGettingStartedExample_01.png" alt=""></p><p>
 </p><span id="zmw57dd0e71" class="anchor_target"></span><h3 class="title" id="zmw57dd0e72">Create an arduino object<span id="ArduinoGettingStartedExample-2" class="anchor_target"></span></h3><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   a = arduino();
</pre></div></div></div><p>If you have more than one Arduino board connected, specify the port and board type.</p><div class="code_responsive"><pre class="programlisting">a = arduino(<span style="color:#A020F0">'com23'</span>, <span style="color:#A020F0">'uno'</span>);
</pre></div><span id="zmw57dd0e81" class="anchor_target"></span><h3 class="title" id="zmw57dd0e82">Turn LED on and off<span id="ArduinoGettingStartedExample-4" class="anchor_target"></span></h3><p>Write value <code>1</code> or true to digital pin 13 turns on the built-in LED and write a value of 0 or false turns it off. Execute the following command at the MATLAB prompt to turn the LED off and on.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   writeDigitalPin(a, <span style="color:#A020F0">'D13'</span>, 0);
   pause(2);
   writeDigitalPin(a, <span style="color:#A020F0">'D13'</span>, 1);
</pre></div></div></div><p>Configure the LED to blink at a period of 1 second.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   <span style="color:#0000FF">for</span> i = 1:10
      writeDigitalPin(a, <span style="color:#A020F0">'D13'</span>, 0);
      pause(0.5);
      writeDigitalPin(a, <span style="color:#A020F0">'D13'</span>, 1);
      pause(0.5);
   <span style="color:#0000FF">end</span>
</pre></div></div></div><span id="zmw57dd0e96" class="anchor_target"></span><h3 class="title" id="zmw57dd0e97">Brighten and dim LED<span id="ArduinoGettingStartedExample-6" class="anchor_target"></span></h3><p>Send pulse signals of specified width to the PWM pins on the Arduino hardware. PWM signals can light up LEDs connected to the pin. The duty cycle of the pulse controls the brightness of the LED. Calculate the amount that the LED brightens and dims by dividing the max and min duty cycle for the pin by the number of iterations.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   brightness_step = (1-0)/20;
   <span style="color:#0000FF">for</span> i = 1:20
      writePWMDutyCycle(a, <span style="color:#A020F0">'D11'</span>, i*brightness_step);
      pause(0.1);
   <span style="color:#0000FF">end</span>

   <span style="color:#0000FF">for</span> i = 1:20
      writePWMDutyCycle(a, <span style="color:#A020F0">'D11'</span>, 1-i*brightness_step);
      pause(0.1);
   <span style="color:#0000FF">end</span>
</pre></div></div></div><p>You can also brighten and dim the lights by changing the voltage of the PWM signal. Calculate the amount that the LED brightens and dims by dividing the max and min voltage for the pin by the number of iterations.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   brightness_step = (5-0)/20;
   <span style="color:#0000FF">for</span> i = 1:20
      writePWMVoltage(a, <span style="color:#A020F0">'D11'</span>, i*brightness_step);
      pause(0.1);
   <span style="color:#0000FF">end</span>

   <span style="color:#0000FF">for</span> i = 1:20
      writePWMVoltage(a, <span style="color:#A020F0">'D11'</span>, 5-i*brightness_step);
      pause(0.1);
   <span style="color:#0000FF">end</span>
</pre></div></div></div><span id="zmw57dd0e108" class="anchor_target"></span><h3 class="title" id="zmw57dd0e109">Control an LED using a potentiometer<span id="ArduinoGettingStartedExample-8" class="anchor_target"></span></h3><p>The potentiometer changes the voltage value read from analog pin 0 which can be used to set the voltage level on the PWM pin to control the brightness of the LED connected. Connect a potentiometer to Arduino hardware with the middle leg connected to analog pin 0 and the other two connected to 5V and GND.</p><p>
<img src="../../../examples/arduinoio_product/win64/ArduinoGettingStartedExample_02.png" alt=""></p><p>
 </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   time = 200;
   <span style="color:#0000FF">while</span> time &gt; 0
      voltage = readVoltage(a, <span style="color:#A020F0">'A0'</span>);
      writePWMVoltage(a, <span style="color:#A020F0">'D11'</span>, voltage);

      time = time - 1;
      pause(0.1);
   <span style="color:#0000FF">end</span>
</pre></div></div></div><p>While the code is running, you can rotate the knob on the potentiometer to see how it affects the brightness of the LED.</p><span id="zmw57dd0e124" class="anchor_target"></span><h3 class="title" id="zmw57dd0e125">Control a Piezo speaker using a push button<span id="ArduinoGettingStartedExample-10" class="anchor_target"></span></h3><p>This part of the example shows how to play a tone controlled by a push button connected to a digital pin on the Arduino hardware. You can also configure a digital pin to <code>pullup</code> mode and use the built-in pullup resistor.</p><p>1) Connect a Piezo speaker to digital pin 11.</p><p>2) Connect a push button to digital pin 12.</p><p>
<img src="../../../examples/arduinoio_product/win64/ArduinoGettingStartedExample_03.png" alt=""></p><p>
 </p><p>To play a tone on the speaker, you can use playTone method to specify the frequency and duration of the sound. Second, the status of a push button can be detected by reading the connected digital pin's value. In order for the push button to work, a pullup resistor needs to be connected to the corresponding digital pin on Arduino board. You can use the built-in pullup resistor by configuring the digital pin mode to <code>pullup</code> to enable it. If the button has been pushed, meaning the read back value is <code>0</code>, a beep sound is played on the speaker. Execute the following command at the MATLAB prompt to play a sound on the speaker when push button is pressed down.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   configurePin(a, <span style="color:#A020F0">'D12'</span>, <span style="color:#A020F0">'pullup'</span>);
   time = 200;
   <span style="color:#0000FF">while</span> time &gt; 0
      speaker_status = readDigitalPin(a, <span style="color:#A020F0">'D12'</span>);
      <span style="color:#0000FF">if</span> speaker_status == 0
          playTone(a, <span style="color:#A020F0">'D11'</span>, 1200, 1);
      <span style="color:#0000FF">else</span>
          <span style="color:#228B22">% Change duration to zero to mute the speaker</span>
          playTone(a, <span style="color:#A020F0">'D11'</span>, 1200, 0);
      <span style="color:#0000FF">end</span>

     time = time - 1;
     pause(0.1);
   <span style="color:#0000FF">end</span>
</pre></div></div></div><span id="zmw57dd0e153" class="anchor_target"></span><h3 class="title" id="zmw57dd0e154">Clean up<span id="ArduinoGettingStartedExample-11" class="anchor_target"></span></h3><p>Once the connection is no longer needed, clear the arduino object.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>  clear <span style="color:#A020F0">a</span>
</pre></div></div></div></div>
</div></section>

<div class="clearfix"></div>
<div class="feedbackblock">Was this topic helpful?
<input type="button" value="Yes" onClick="openFeedbackWindow('http://www.mathworks.com/programs/bounce_hub_help.html?s_cid=Help_Topic_Survey&amp;surveyParams='+document.location.href+'-YES-R2017a');">
<input type="button" value="No" onClick="openFeedbackWindow('http://www.mathworks.com/programs/bounce_hub_help.html?s_cid=Help_Topic_Survey&amp;surveyParams='+document.location.href+'-NO-R2017a');">
</div>
<!--Last updated: Thu Jun 22 14:14:10 EDT 2017-->
</div>
</div>
</div><!--close_0960-->
</div><!--close_0970-->
<div class="body_trail_container">
<div class="container-fluid">
<div class="row">
<div class="col-xs-12">
<div class="row"><div class="col-xs-12 col-sm-3"><h5><a href="../index.html?s_cid=doc_ftr">MATLAB Support Package for Arduino Hardware Documentation</a></h5>
<ul class="list-unstyled hidden-xs"><li><a href="../index.html?s_cid=doc_ftr">Documentation</a></li>
<li><a href="../troubleshooting-in-matlab-support-package-for-arduino-hardware.html?s_cid=doc_ftr">Troubleshooting</a></li>
<li><a href="../functionlist.html?s_cid=doc_ftr">Functions and Other Reference</a></li>
<li><a href="../release-notes.html?s_cid=doc_ftr">Release Notes</a></li>
</ul>
</div>
<div class="col-xs-12 col-sm-3"><h5><a href="../../../documentation-center.html?s_cid=doc_ftr">Other Documentation</a></h5>
<ul class="list-unstyled hidden-xs"><li><a href="../../../matlab/index.html?s_cid=doc_ftr">MATLAB</a></li><li><a href="../../../supportpkg/arduino/index.html?s_cid=doc_ftr">Simulink Support Package for Arduino Hardware</a></li><li><a href="../../../supportpkg/raspberrypiio/index.html?s_cid=doc_ftr">MATLAB Support Package for Raspberry Pi Hardware</a></li><li><a href="../../../supportpkg/legomindstormsev3io/index.html?s_cid=doc_ftr">MATLAB Support Package for LEGO MINDSTORMS EV3 Hardware</a></li><li><a href="../../../documentation-center.html?s_cid=doc_ftr">Documentation Home</a></li></ul>
</div>
<div class="col-xs-12 col-sm-3"><h5><a href="http://www.mathworks.com/support/?s_cid=doc_ftr">Support</a></h5>
<ul class="list-unstyled hidden-xs"><li><a href="http://www.mathworks.com/matlabcentral/answers/index?s_cid=doc_ftr">MATLAB Answers</a></li><li><a href="http://www.mathworks.com/support/install-matlab.html?s_cid=doc_ftr">Installation Help</a></li><li><a href="http://www.mathworks.com/support/bugreports/?s_cid=doc_ftr">Bug Reports</a></li><li><a href="http://www.mathworks.com/products/availability/?s_cid=doc_ftr">Product Requirements</a></li><li><a href="http://www.mathworks.com/downloads/?s_cid=doc_ftr">Software Downloads</a></li></ul>
</div>
</div>
</div>
</div>
</div><!--END.CLASS container-fluid-->
</div><!--END.CLASS body_trail_container-->
<footer id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-xs-12">
<p class="copyright">&copy; 1994-2017 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="MATLAB:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="MATLAB:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="MATLAB:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="MATLAB:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</body>
</html>
