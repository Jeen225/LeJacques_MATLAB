<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Control 7-Segment Display with 74HC595 Shift Register</title>
<link rel="stylesheet" href="docstyle.css" type="text/css"><link href="../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="toctype" itemprop="pagetype" content="fe">
<meta name="infotype" itemprop="infotype" content="ex" />

<meta name="description" itemprop="description" content="This example shows how to use the MATLAB&reg; Support Package for Arduino&reg; Hardware to control a 1-Digit 7-Segment display with a 74HC595 8-bit serial-in-parallel-out shift register." />
<meta content="../../../examples/arduinoio_product/win64/ShiftRegisterDisplayExample_02.png" itemprop="thumbnailUrl">
<script type="text/javascript" src="../includes/product/scripts/jquery/jquery-latest.js"></script>
<link href="../includes/product/css/site6.css?201706221414" rel="stylesheet" type="text/css">
<link href="../includes/product/css/site6_lg.css?201706221414" rel="stylesheet" media="screen and (min-width: 1200px)">
<link href="../includes/product/css/site6_md.css?201706221414" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link href="../includes/product/css/site6_sm+xs.css?201706221414" rel="stylesheet" media="screen and (max-width: 991px)">
<link href="../includes/product/css/site6_sm.css?201706221414" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link href="../includes/product/css/site6_xs.css?201706221414" rel="stylesheet" media="screen and (max-width: 767px)">
<link href="../includes/product/css/site6_offcanvas.css?201706221414" rel="stylesheet" type="text/css">

<script src="../includes/shared/scripts/l10n.js"></script>
<script src="../includes/shared/scripts/docscripts.js"></script>
<script src="../includes/shared/scripts/f1help.js"></script>
<script src="../includes/product/scripts/docscripts.js"></script>
<script src="../includes/shared/scripts/mw.imageanimation.js"></script>
<script src="../includes/shared/scripts/jquery.highlight.js"></script>
<script src="../includes/product/scripts/underscore-min.js"></script>
<script src="../includes/product/scripts/examples.js"></script>
<script src="../includes/product/scripts/use_platform_screenshots.js"></script>
<script src="../includes/product/scripts/suggest.js"></script>
<script src="../includes/shared/scripts/overload.js"></script>





<script src="../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script src="../includes/product/scripts/bootstrap.min.js" type="text/javascript"></script>
<script src="../includes/product/scripts/global.js"></script>
<link href="../includes/product/css/doc_center.css" rel="stylesheet" type="text/css">
<link href="../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link href="../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script type="text/javascript" src="../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div id="doc_header_spacer" class="header"></div>
<div class="sticky_header_container includes_subnav">
<div class="section_header level_3">
<div class="container-fluid">
<div class="row" id="mobile_search_row">
<div class="col-xs-12 col-sm-6 col-sm-push-6 col-md-5 col-md-push-7" id="mobile_search">
<div class="search_nested_content_container">
<form id="docsearch_form" name="docsearch_form" method="get" data-release="R2017a" data-language="en" action="../../../templates/searchresults.html">
<div class="input-group tokenized_search_field">
<label class="sr-only">Search Help</label>
<input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch">
<div class="input-group-btn">
<button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button>
</div>
</div>
</form>
</div>
<button class="btn icon-remove btn_search pull-right icon_32 visible-xs" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div>
<div class="col-sm-6 col-sm-pull-6 col-md-7 col-md-pull-5" id="section_header_title">
<div class="section_header_content">
<div class="section_header_title">
<h1><a href="../../../examples.html">Examples</a></h1>
</div>
</div>
</div>
<div class="visible-xs" id="search_actuator">
<button class="btn icon-search btn_search pull-right icon_16" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button>
</div>
</div><!--END.CLASS row-->
</div><!--END.CLASS container-fluid-->
</div><!--END.CLASS section_header level_3-->
<div class="horizontal_nav">
<div class="horizontal_nav_container">
<div class="offcanvas_actuator" data-toggle="offcanvas" data-target="#sidebar" id="nav_toggle">
<button type="button" class="btn"><span class="sr-only">Toggle navigation</span><span class="icon-menu icon_24"></span></button>
<span class="offcanvas_actuator_label"></span><span class="offcanvas_actuator_close"></span>
</div>
<div class="offcanvas_horizontal_nav">
<div class="container-fluid">
<div class="row">
<div class="col-md-12 hidden-xs hidden-sm"></div>
</div>
</div>
</div>
</div>
</div>
</div><!--END.CLASS sticky_header_container-->
<div class="row-offcanvas row-offcanvas-left">
<div class="sidebar-offcanvas" id="sidebar" role="navigation">
<nav class="offcanvas_nav" role="navigation">
<ul xmlns:atict="http://www.arbortext.com/namespace/atict" class="nav_breadcrumb">
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../../examples.html" itemprop="url"><span itemprop="title">Examples Home</span></a></li>
</ul>

<ul xmlns:atict="http://www.arbortext.com/namespace/atict" class="nav_disambiguation">
<li class="product"><a href="../examples.html">MATLAB Support Package for Arduino Hardware</a>
<div class="dropdown">
<span class="icon-arrow-down icon_16" id="dropdownMenu1" data-toggle="dropdown"></span>
<ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="dropdownMenu1">
<li role="presentation"><a role="menuitem" tabindex="-1" href="../index.html?s_cid=doc_flyout">Documentation</a></li>
<li role="presentation"><a role="menuitem" tabindex="-1" href="../troubleshooting-in-matlab-support-package-for-arduino-hardware.html?s_cid=doc_flyout">Troubleshooting</a></li>
<li role="presentation"><a role="menuitem" tabindex="-1" href="../functionlist.html?s_cid=doc_flyout">Functions and Other Reference</a></li>
<li role="presentation"><a role="menuitem" tabindex="-1" href="../release-notes.html?s_cid=doc_flyout">Release Notes</a></li>
</ul>
</div>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../examples.html#d0e29" itemprop="url"><span itemprop="title">Tutorials</span></a></li>
</ul>
<ul xmlns:atict="http://www.arbortext.com/namespace/atict" class="nav_scrollspy nav">
<li class="nav_scrollspy_function"><a href="#responsive_offcanvas">Control 7-Segment Display with 74HC595 Shift Register</a></li>
<li class="nav_scrollspy_title">On this page</li>

<li><a href="#zmw57dd0e605" class="intrnllnk">Hardware Requirements</a></li>
<li><a href="#zmw57dd0e625" class="intrnllnk">Hardware Setup</a></li>
<li><a href="#zmw57dd0e669" class="intrnllnk">Create Shift Register Object</a></li>
<li><a href="#zmw57dd0e685" class="intrnllnk">Display Numbers</a></li>
<li><a href="#zmw57dd0e705" class="intrnllnk">Clean Up</a></li>


</ul>
</nav>
<script src="../includes/product/scripts/offcanvas.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="content_container" id="content_container">
<div class="container-fluid">
<div class="row">
<div class="col-xs-12">

<section id="doc_center_content" lang="en"><div id="pgtype-example">
<span id="example-ShiftRegisterDisplayExample" class="anchor_target"></span><div class="example_icon"></div><h2 class="title r2017a example" itemprop="title content" id="example-ShiftRegisterDisplayExample">Control 7-Segment Display with 74HC595 Shift Register</h2><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="arduinoio_product-ShiftRegisterDisplayExample"/><meta itemprop="exampletitle" content="Control 7Segment Display with 74HC595 Shift Register"/></div><span id="ShiftRegisterDisplayExample" class="anchor_target"></span><div itemprop="content">

<p>This example shows how to use the MATLAB&reg; Support Package for Arduino&reg; Hardware to control a 1-Digit 7-Segment display with a 74HC595 8-bit serial-in-parallel-out shift register.</p>

</div><div class="clearfix"></div><div itemprop="content"><span id="zmw57dd0e604" class="anchor_target"></span><h3 class="title" id="zmw57dd0e605">Hardware Requirements<span id="ShiftRegisterDisplayExample-1" class="anchor_target"></span></h3><ul type="disc"><li><p>Arduino board</p></li><li><p>Common anode 7-segment display</p></li><li><p>74HC595 8-bit serial-in-parallel-out shift register</p></li><li><p>Eight 330 ohm resistors</p></li><li><p>Breadboard and wires</p></li></ul><span id="zmw57dd0e624" class="anchor_target"></span><h3 class="title" id="zmw57dd0e625">Hardware Setup<span id="ShiftRegisterDisplayExample-2" class="anchor_target"></span></h3><p>Connect the 7-Segment display and 74HC595 shift register to Arduino hardware:</p><ul type="disc"><li><p>Connect Vcc pin on 74HC595 to 5V pin on Arduino hardware.</p></li></ul><ul type="disc"><li><p>Connect GND and OE pins on 74HC595 to GND pin on Arduino hardware.</p></li></ul><ul type="disc"><li><p>Connect DS or SER pin on 74HC595 to digital pin 8 on Arduino hardware.</p></li></ul><ul type="disc"><li><p>Connect SHCP or SRCLK pin on 74HC595 to digital pin 10 on Arduino hardware.</p></li></ul><ul type="disc"><li><p>Connect STCP or RCLK pin on 74HC595 to digital pin 9 on Arduino hardware.</p></li></ul><ul type="disc"><li><p>Connect Q0-Q6 or QA-QG pin on 74HC595 to pin A-G on 7-segment display.</p></li></ul><ul type="disc"><li><p>Connect Q7 or QH pin on 74HC595 to pin DP on 7-segment display.</p></li></ul><ul type="disc"><li><p>Connect common anode pins (pin 3 and 8 on the diagram) on 7-segment display to 5V pin on Arduino hardware.</p></li></ul><p>
<img src="../../../examples/arduinoio_product/win64/ShiftRegisterDisplayExample_01.png" alt=""></p><p>
 </p><span id="zmw57dd0e668" class="anchor_target"></span><h3 class="title" id="zmw57dd0e669">Create Shift Register Object<span id="ShiftRegisterDisplayExample-3" class="anchor_target"></span></h3><p>Create an arduino object, and include the ShiftRegister library.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   a = arduino(<span style="color:#A020F0">'COM7'</span>, <span style="color:#A020F0">'Uno'</span>, <span style="color:#A020F0">'Libraries'</span>, <span style="color:#A020F0">'ShiftRegister'</span>)
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>
a = 

  arduino with properties:

                    Port: 'COM7'
                   Board: 'Uno'
           AvailablePins: {'D2-D13', 'A0-A5'}
               Libraries: {'ShiftRegister'}

</pre></div></div></div><p>Create shift register object for the display module, specifying the connected data pin, clock pin, and latch pin.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   dataPin = <span style="color:#A020F0">'D8'</span>;
   clockPin = <span style="color:#A020F0">'D10'</span>;
   latchPin = <span style="color:#A020F0">'D9'</span>;
   register = shiftRegister(a, <span style="color:#A020F0">'74HC595'</span>, dataPin, clockPin, latchPin)
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>
register = 

  shiftRegister with properties:

           Model: '74HC595'      
         DataPin: 'D8'           
        ClockPin: 'D10'          
        LatchPin: 'D9'           
        ResetPin: Not specified

</pre></div></div></div><span id="zmw57dd0e684" class="anchor_target"></span><h3 class="title" id="zmw57dd0e685">Display Numbers<span id="ShiftRegisterDisplayExample-6" class="anchor_target"></span></h3><p>Each segment of the 7-segment display is controlled by a pin corresponding to the segment, including pin A-G and pin DP. Common anode 7-segment display means the segment pin needs to be low to turn it on. Here is the mapping between the segments and the pins, including shift register outputs.</p><p>
<img src="../../../examples/arduinoio_product/win64/ShiftRegisterDisplayExample_02.png" alt=""></p><p>
 </p><p>Create a table of binary character vectors for all single digit numbers.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   digitTable = {<span style="color:#0000FF">...</span>
        <span style="color:#A020F0">'11000000'</span>, <span style="color:#0000FF">...</span><span style="color:#228B22">  % 0</span>
        <span style="color:#A020F0">'11001111'</span>, <span style="color:#0000FF">...</span><span style="color:#228B22">  % 1</span>
  	<span style="color:#A020F0">'10100100'</span>, <span style="color:#0000FF">...</span><span style="color:#228B22">  % 2</span>
  	<span style="color:#A020F0">'10110000'</span>, <span style="color:#0000FF">...</span><span style="color:#228B22">  % 3</span>
  	<span style="color:#A020F0">'10011001'</span>, <span style="color:#0000FF">...</span><span style="color:#228B22">  % 4</span>
  	<span style="color:#A020F0">'10010010'</span>, <span style="color:#0000FF">...</span><span style="color:#228B22">  % 5</span>
  	<span style="color:#A020F0">'10000010'</span>, <span style="color:#0000FF">...</span><span style="color:#228B22">  % 6</span>
  	<span style="color:#A020F0">'11111000'</span>, <span style="color:#0000FF">...</span><span style="color:#228B22">  % 7</span>
  	<span style="color:#A020F0">'10000000'</span>, <span style="color:#0000FF">...</span><span style="color:#228B22">  % 8</span>
  	<span style="color:#A020F0">'10010000'</span>  <span style="color:#0000FF">...</span><span style="color:#228B22">  % 9</span>
};
</pre></div></div></div><p>To display a number on the module, write the corresponding 8-bit character vector to the shift register, which will get reflected on its outputs, therefore controlling the on and off of the segments. Here is the code to loop through the ten digits on the display,</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>   <span style="color:#0000FF">for</span> iLoop = 1:10
       digit = digitTable{iLoop};
       write(register, digit);
       pause(0.5);
   <span style="color:#0000FF">end</span>
</pre></div></div></div><span id="zmw57dd0e704" class="anchor_target"></span><h3 class="title" id="zmw57dd0e705">Clean Up<span id="ShiftRegisterDisplayExample-8" class="anchor_target"></span></h3><p>When the connection is no longer needed, clear the shift register and arduino object.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>  clear <span style="color:#A020F0">register</span> <span style="color:#A020F0">a</span>
</pre></div></div></div></div>
</div></section>

<div class="clearfix"></div>
<div class="feedbackblock">Was this topic helpful?
<input type="button" value="Yes" onClick="openFeedbackWindow('http://www.mathworks.com/programs/bounce_hub_help.html?s_cid=Help_Topic_Survey&amp;surveyParams='+document.location.href+'-YES-R2017a');">
<input type="button" value="No" onClick="openFeedbackWindow('http://www.mathworks.com/programs/bounce_hub_help.html?s_cid=Help_Topic_Survey&amp;surveyParams='+document.location.href+'-NO-R2017a');">
</div>
<!--Last updated: Thu Jun 22 14:14:10 EDT 2017-->
</div>
</div>
</div><!--close_0960-->
</div><!--close_0970-->
<div class="body_trail_container">
<div class="container-fluid">
<div class="row">
<div class="col-xs-12">
<div class="row"><div class="col-xs-12 col-sm-3"><h5><a href="../index.html?s_cid=doc_ftr">MATLAB Support Package for Arduino Hardware Documentation</a></h5>
<ul class="list-unstyled hidden-xs"><li><a href="../index.html?s_cid=doc_ftr">Documentation</a></li>
<li><a href="../troubleshooting-in-matlab-support-package-for-arduino-hardware.html?s_cid=doc_ftr">Troubleshooting</a></li>
<li><a href="../functionlist.html?s_cid=doc_ftr">Functions and Other Reference</a></li>
<li><a href="../release-notes.html?s_cid=doc_ftr">Release Notes</a></li>
</ul>
</div>
<div class="col-xs-12 col-sm-3"><h5><a href="../../../documentation-center.html?s_cid=doc_ftr">Other Documentation</a></h5>
<ul class="list-unstyled hidden-xs"><li><a href="../../../matlab/index.html?s_cid=doc_ftr">MATLAB</a></li><li><a href="../../../supportpkg/arduino/index.html?s_cid=doc_ftr">Simulink Support Package for Arduino Hardware</a></li><li><a href="../../../supportpkg/raspberrypiio/index.html?s_cid=doc_ftr">MATLAB Support Package for Raspberry Pi Hardware</a></li><li><a href="../../../supportpkg/legomindstormsev3io/index.html?s_cid=doc_ftr">MATLAB Support Package for LEGO MINDSTORMS EV3 Hardware</a></li><li><a href="../../../documentation-center.html?s_cid=doc_ftr">Documentation Home</a></li></ul>
</div>
<div class="col-xs-12 col-sm-3"><h5><a href="http://www.mathworks.com/support/?s_cid=doc_ftr">Support</a></h5>
<ul class="list-unstyled hidden-xs"><li><a href="http://www.mathworks.com/matlabcentral/answers/index?s_cid=doc_ftr">MATLAB Answers</a></li><li><a href="http://www.mathworks.com/support/install-matlab.html?s_cid=doc_ftr">Installation Help</a></li><li><a href="http://www.mathworks.com/support/bugreports/?s_cid=doc_ftr">Bug Reports</a></li><li><a href="http://www.mathworks.com/products/availability/?s_cid=doc_ftr">Product Requirements</a></li><li><a href="http://www.mathworks.com/downloads/?s_cid=doc_ftr">Software Downloads</a></li></ul>
</div>
</div>
</div>
</div>
</div><!--END.CLASS container-fluid-->
</div><!--END.CLASS body_trail_container-->
<footer id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-xs-12">
<p class="copyright">&copy; 1994-2017 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="MATLAB:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="MATLAB:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="MATLAB:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="MATLAB:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</body>
</html>
